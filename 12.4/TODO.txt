12-2

Write a program that draws a tree showing the hierarchical parent-child
 relationships of all processes on the system, going all the way back to init. For each
 process, the program should display the process ID and the command being
 executed. The output of the program should be similar to that produced by pstree(1),
 although it does need not to be as sophisticated. The parent of each process on the
 system can be found by inspecting the PPid: line of all of the /proc/PID/status files
 on the system. Be careful to handle the possibility that a processâ€™s parent (and thus
 its /proc/PID directory) disappears during the scan of all /proc/PID directories.


12-3

Write a program that lists all processes that have a particular file pathname open.
 This can be achieved by inspecting the contents of all of the /proc/PID/fd/* symbolic
 links. This will require nested loops employing readdir(3) to scan all /proc/PID
 directories, and then the contents of all /proc/PID/fd entries within each /proc/PID
 directory. To read the contents of a /proc/PID/fd/n symbolic link requires the use
 of readlink(), described in Section 18.5.